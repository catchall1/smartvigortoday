!function(){var e=window.location.search.replace(/^\?/,"&"),c=parseInt(j("cmc_debug")),g="undefined"!=typeof clickmagick_cmc;g&&(clickmagick_cmc.version="2.36.4",clickmagick_cmc._order_bumps={},c=c||clickmagick_cmc.debug,S("Version",clickmagick_cmc.version)),S("Processing click and conversion code");var o="https://www.clkmc.com/api/",t=window.location.href.replace(/\?.*/,""),i=function(){var c=0,e=document.domain,i=e.split("."),t="_gd"+(new Date).getTime();for(;c<i.length-1&&-1===document.cookie.indexOf(t+"="+t);)e=i.slice(-1-++c).join("."),document.cookie=t+"="+t+";domain="+e+";";document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+e+";",/^(co|com|edu|gov|ltd|net|org)\.[a-z]{2}$/i.test(e)&&(e=document.domain.split(".").slice(-3).join("."));return e}();if(bots=new RegExp(["google-adwords","google web preview","google-structured-data","appengine-google","feedfetcher-google","adsbot-google","googlebot","facebookexternalhit","bingbot","msnbot","bingpreview","pinterestbot","google-read-aloud","petalbot","ahrefsbot","adidxbot"].join("|"),"i"),bots.test(navigator.userAgent))S("Ignoring high-activity bot",navigator.userAgent);else{Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(c){var e=this;do{if(Element.prototype.matches.call(e,c))return e}while(null!==(e=e.parentElement||e.parentNode)&&1===e.nodeType);return null});for(var m={active_reqs:0},d=0,a=e.split("&"),n=0;n<a.length;n++){var r=a[n].match(/=(\d{10}_cmc\d{10})/);if(r){d=r[1];break}}var l,k,_,s,u,p=j("cmc_vid");p.match(/^cmc\d{10}$/i)&&(document.cookie="cmc_vid=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/",R("cmc_vid",p,"."+i,365)),p=U("cmc_vid"),window.sessionStorage.setItem("_cmc_cmc_vid",p),S("vid found =",p),g&&(S("Found clickmagick_cmc"),((u=j(s="cmc_ignore"))?/^(no|false|0)$/i.test(u):!clickmagick_cmc[s])&&(clickmagick_cmc.disabled=function(){document.cookie="cookietest=1";var c=-1==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",c}()?1:0,clickmagick_cmc.utm_source=w("utm_source"),clickmagick_cmc.utm_medium=w("utm_medium"),clickmagick_cmc.utm_campaign=w("utm_campaign"),clickmagick_cmc.utm_term=w("utm_term"),clickmagick_cmc.utm_content=w("utm_content"),clickmagick_cmc.cmc_project=w("cmc_project"),clickmagick_cmc.cmc_goal=w("cmc_goal"),clickmagick_cmc.cmc_amt=w("cmc_amt"),clickmagick_cmc.cmc_cpc=w("cmc_cpc"),clickmagick_cmc.cmc_ref=w("cmc_ref"),clickmagick_cmc.cmc_unique=w("cmc_unique"),clickmagick_cmc.gclid=w("gclid"),clickmagick_cmc.wbraid=w("wbraid"),clickmagick_cmc.msclkid=w("msclkid"),clickmagick_cmc.fbclid=w("fbclid"),clickmagick_cmc.ttclid=w("ttclid"),clickmagick_cmc.epik=w("epik"),clickmagick_cmc.cmc_strip=w("cmc_strip"),clickmagick_cmc.cmc_tid=w("cmc_tid"),clickmagick_cmc.cmc_adid=w("cmc_adid"),clickmagick_cmc.cmc_redir=w("cmc_redir"),clickmagick_cmc.cmc_amt=clickmagick_cmc.cmc_amt.replace(/%2c/gi,","),clickmagick_cmc.cmc_cpc=clickmagick_cmc.cmc_cpc.replace(/%2c/gi,","),clickmagick_cmc.cmc_adid=clickmagick_cmc.cmc_adid.replace(/^tt(?=\d)/,"tt_"),"internal"===(l=clickmagick_cmc.utm_source.toLowerCase())?clickmagick_cmc.utm_source=l:"organic"===l&&(clickmagick_cmc.utm_source="",p||(clickmagick_cmc.utm_source=l,clickmagick_cmc.utm_medium=l,clickmagick_cmc.utm_campaign="none",document.referrer&&((_=document.createElement("a")).href=document.referrer,clickmagick_cmc.utm_campaign=_.hostname),clickmagick_cmc.cmc_goal="")),S(JSON.parse(JSON.stringify(clickmagick_cmc))),"a"===(l=j("cbur").toLowerCase())&&(clickmagick_cmc.cmc_goal="s"),"d"===l&&(clickmagick_cmc.cmc_goal=""),_=/^[aes]$/i.test(clickmagick_cmc.cmc_goal),S("isValidClick =",l=""!==clickmagick_cmc.utm_source&&""!==clickmagick_cmc.utm_medium&&""!==clickmagick_cmc.utm_campaign,"isValidGoal =",_),clickmagick_cmc.uid&&clickmagick_cmc.hid&&(l||_)&&(l&&""===clickmagick_cmc.cmc_project&&(clickmagick_cmc.cmc_project=i,clickmagick_cmc.domain=document.domain),/^(appspot\.com|googleusercontent\.com|localhost|\d+(\.\d+)+)$/i.test(clickmagick_cmc.cmc_project)||(p||R("cmc_vid",p="cmc"+(Math.round(3294967294*Math.random())+1e9),"."+i,365),S("Computed vid =",p),window.sessionStorage.setItem("_cmc_cmc_vid",p),k="?vid="+p.substr(3),(i=Object.keys(clickmagick_cmc)).forEach(function(c){/^(cmc_strip|cmc_redir|vid|id|attrs|_.+)$/.test(c)||""===clickmagick_cmc[c]||(k+="&"+c+"="+encodeURIComponent(clickmagick_cmc[c]))}),h(),!l||_&&"internal"!==clickmagick_cmc.utm_source||(""!=clickmagick_cmc.fbclid&&(k+="&_fbc="+encodeURIComponent(U("_fbc"))+"&_fbp="+encodeURIComponent(U("_fbp"))),b(o+k.replace(/&cmc_goal=[^&]+/,""),"click"),i.forEach(function(c){O(c)&&window.sessionStorage.setItem("_cmc_"+c,clickmagick_cmc[c])})),_&&b(o+k.replace(/&utm_[^&]+/gi,""),"goal"),v()))),clickmagick_cmc.hasOwnProperty("cmc_redir")&&clickmagick_cmc.cmc_redir.length&&(L(300),_=(_=decodeURIComponent(clickmagick_cmc.cmc_redir)).replace(/\[cmc_vid\]/gi,p),/^http/i.test(_)||(_="https://"+_),window.location.href=_),clickmagick_cmc.log=function(c,e,i,t){e=e||"";var m=i||"",a=0;"s"!==(c=c.toLowerCase())&&!E(c)||(a=Number(i||"0.00"),m=t||""),/^\d+$/.test(clickmagick_cmc.uid)&&/^\d+$/.test(clickmagick_cmc.hid)&&(goalURL=o+"?vid="+p.replace(/^cmc/i,"")+"&uid="+clickmagick_cmc.uid+"&hid="+clickmagick_cmc.hid+"&cmc_goal="+c.substring(0,1)+"&cmc_ref="+encodeURIComponent(e),h(),"a"===c||"e"===c?b(goalURL+"&cmc_project="+encodeURIComponent(m),"goal"):"s"===c?b(goalURL+"&cmc_amt="+encodeURIComponent(a)+"&cmc_project="+encodeURIComponent(m),"goal"):E(c)&&(e=c+"::"+e+"::"+a,0===a||void 0!==clickmagick_cmc._order_bumps[e]&&0!=clickmagick_cmc._order_bumps[e]?(clickmagick_cmc._order_bumps[e]=0,a=-a):clickmagick_cmc._order_bumps[e]=a,b(goalURL+"&cmc_amt="+encodeURIComponent(a)+"&cmc_project="+encodeURIComponent(m),"goal")),v(),L(300))},/cmc|utm/i.test(clickmagick_cmc.cmc_strip)&&history.replaceState&&(e=(e=(e=/utm/i.test(clickmagick_cmc.cmc_strip)?(e=(e=(e=(e=(e=(e=e.replace(/&utm_[^&]+/gi,"")).replace(/&gclid[^&]+/gi,"")).replace(/&wbraid[^&]+/gi,"")).replace(/&msclkid[^&]+/gi,"")).replace(/&fbclid[^&]+/gi,"")).replace(/&ttclid[^&]+/gi,"")).replace(/&epik[^&]+/gi,""):e).replace(/&cmc_[^&]+/gi,"")).replace(/^&/,"?"))!==window.location.search&&history.pushState({},"",window.location.pathname+e+window.location.hash),clickmagick_cmc.vid=p);var f={};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?C():document.addEventListener("DOMContentLoaded",C)}function b(c,e){var i;/^(click|goal|data)$/.test(e)||console.assert("type must be 'click', 'goal', or 'data'"),c+="&page_url="+encodeURIComponent(t),(i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(m[e]="waiting",m.active_reqs++,i.onload=function(){var c=JSON.parse(i.response);"ABUSER"===c.status&&(window.location.href=c.url),"OK"!==c.status&&console.warn(c.status),c.temp_repeat&&console.warn("temp click not recorded"),--m.active_reqs<=0&&(m.active_reqs=0,m[e]="success")},i.onerror=function(){--m.active_reqs,m[e]="error"},S("URL =",c),i.open("GET",c,!0),i.send()):document.createElement("img").src=c}function h(){clickmagick_cmc.status="waiting",m.click=m.goal="success"}function v(){var e=0;!function c(){setTimeout(function(){("waiting"===m.click||"waiting"===m.goal)&&e++<70?c():clickmagick_cmc.status="success"===m.click&&"success"===m.goal?"success":"error"},100)}()}function w(c){var e=j(c);return""!==(e=""===e&&void 0!==clickmagick_cmc[c]?clickmagick_cmc[c]:e)&&O(c)&&window.sessionStorage.setItem("_cmc_"+c,e),e}function y(c){var m={};c.forEach(function(e){var c,i=e.value.trim().replace(/\s+/," ");function t(c){c=new RegExp(I(function(c){return c=c.replace(/../gs,function(c){return"%"+c}),decodeURIComponent(c)}(c.split("").reverse().join(""))),"i");return c.test(e.name)||c.test(e.id)}""!==i&&(t("4292a2e23666e626a6a2e237a6763726a68215")?m.l=i:t("4292b7c7d7669637a626e616a2e2963716968215")?m.a=i:t("4292b7c7e63637a626e616a2e2363716368215")?m.z=i:t("4292a2e2a626e616a2e28215")?-1!==(c=(m.a=i).indexOf(" "))&&(m.a=i.substr(0,c),m.z=i.substr(c+1)):t("4292d7a6d626a71605d7a6b6166626a6d705b777a6b737d7a6d626a71605c726c737a2e23636a6c637a2e2a63666d60626a2e28215")?(i=i.replace(/\D/g,""),/\d{10,}/.test(i)&&(m.b=i)):t("429205d7a687c716e637a62606763746d7068737a2e236a6b737a2e2a6160676f7a2e23776f78215")?(i=i.replace(/\D/g,""),/\d{10,}/.test(i)&&(m.f=i)):t("429267b766c637b7c68215")?3<=i.length&&(m.t=i):t("4292a2e29706d7f7a2e2a6b7e6b7c737f392a6c61666829706d7f737a6b7e6b7c737b7c78215")?2<=i.length&&(m.v=i):t("4292a2e2b7c706f737a2e2f7665737f7578215")?2<=i.length&&(m.p=i):t("429267d7b716a706c68215")?2<=i.length&&(m.n=i):/.@.+\..+/.test(i)&&(m.l=i))}),Object.keys(m).every(function(c){var e=f[c]&&f[c]==m[c];return f[c]=m[c],e})||(c=function(c){var e="";c=encodeURIComponent(c);var i=0;for(;i<c.length;){var t;"%"!==c.charAt(i)?(t=c.charCodeAt(i).toString(16).toUpperCase(),e+=(1==t.length?"0":"")+t,i++):(e+=c.substr(i+1,2),i+=3)}return e}(I(JSON.stringify(m))).split("").reverse().join(""),b(o+"?vid="+p.replace(/^cmc/i,"")+"&uid="+clickmagick_cmc.uid+"&hid="+clickmagick_cmc.hid+"&cmclid="+encodeURIComponent(c),"data"))}function C(){function c(c,e){for(var i=c.replace(/\s+/g,"").split(/\s*,\s*/),t=0;t<i.length;t++){var m=i[t],a=(m=!/^[.#]/.test(m)?"#"+m:m).split(":"),m=a.shift(),o="0.00";"s"!==e&&"o"!==e||(o=a.shift());var n,r=a.shift()||m.substr(1);"s"===e?(n=clickmagick_cmc.log.bind(null,"s",r,o,clickmagick_cmc.cmc_project),S("log_sale:",r,o,clickmagick_cmc.cmc_project)):"o"===e?(a="o"+t,clickmagick_cmc.log(a,r,0,clickmagick_cmc.cmc_project),n=clickmagick_cmc.log.bind(null,a,r,o,clickmagick_cmc.cmc_project),S("log_orderbump:",a,r,o,clickmagick_cmc.cmc_project)):(n=clickmagick_cmc.log.bind(null,e,r,clickmagick_cmc.cmc_project),S("log_:",e,r,clickmagick_cmc.cmc_project)),function(e,i){document.addEventListener("click",function(c){null!==c.target.closest(i)&&e()},{capture:!0})}(n,m)}}g&&clickmagick_cmc.audopt_pro&&(!0===clickmagick_cmc.audopt_pro||/^on$/i.test(clickmagick_cmc.audopt_pro))&&(document.addEventListener("focusout",function(c){"INPUT"===c.target.tagName&&p&&y([c.target])},{capture:!0}),document.addEventListener("change",function(c){"INPUT"===c.target.tagName&&p&&y([c.target])},{capture:!0})),g&&/^cmc\d+$/.test(p)&&(clickmagick_cmc.hasOwnProperty("log_action")&&c(clickmagick_cmc.log_action,"a"),clickmagick_cmc.hasOwnProperty("log_engage")&&c(clickmagick_cmc.log_engage,"e"),clickmagick_cmc.hasOwnProperty("log_sale")&&c(clickmagick_cmc.log_sale,"s"),clickmagick_cmc.hasOwnProperty("log_orderbump")&&c(clickmagick_cmc.log_orderbump,"o"));var e=["href","src","value","data-imagelink","data-custom-js"];g&&clickmagick_cmc.hasOwnProperty("attrs")&&(e=e.concat(clickmagick_cmc.attrs));for(var i=/(\[|\%5B)(cmc_vid|clickid|gclid|wbraid|msclkid|fbclid|ttclid|epik|cmc_cpc|cmc_adid|cmc_tid|utm_.+?)(\]|\%5D)/i,t=0;t<e.length;t++)for(var m=e[t],a=document.querySelectorAll("["+m+"]"),o=0;o<a.length;o++){for(var n=a[o].getAttribute(m),r=0;l=n.match(i);){var l=l[2].toLowerCase();if(newVal=window.sessionStorage.getItem("_cmc_"+l),"cmc_vid"===l&&d&&(newVal=d),n=n.replace(i,newVal),10<r++)break}n!==a[o].getAttribute(m)&&a[o].setAttribute(m,n)}}function R(c,e,i,t){var m=new Date;m.setTime(m.getTime()+Math.floor(24*t*60*60*1e3)),document.cookie=c+"="+e+";domain="+i+";expires="+m.toUTCString()+";path=/"}function U(c){for(var e=c+"=",i=decodeURIComponent(document.cookie).split(";"),t=0;t<i.length;t++){for(var m=i[t];" "===m.charAt(0);)m=m.substring(1);if(0===m.indexOf(e))return m.substring(e.length,m.length)}return""}function I(c){return c.replace(/./g,function(c){c=c.charCodeAt(0);return String.fromCharCode(64<=c?15^c:c)})}function j(c){c=new RegExp("&"+c+"=([^&]*)","i").exec(e);return c?decodeURIComponent(c[1]):""}function E(c){return/^o\d?/.test(c)}function S(){c&&"undefined"!=typeof console&&console.log.apply(console,arguments)}function O(c){return!!/^(utm_.*|cmc_tid|gclid|wbraid|msclkid|fbclid|ttclid|epik|cmc_cpc|cmc_adid)$/.test(c)}function L(c){for(var e=Date.now()+c;Date.now()<e;);}}();
